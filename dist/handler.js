"use strict";var n=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var p=(o,t)=>{for(var e in t)n(o,e,{get:t[e],enumerable:!0})},l=(o,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of d(t))!m.call(o,r)&&r!==e&&n(o,r,{get:()=>t[r],enumerable:!(s=c(t,r))||s.enumerable});return o};var y=o=>l(n({},"__esModule",{value:!0}),o);var g={};p(g,{handler:()=>u,main:()=>u});module.exports=y(g);var a=require("child_process"),i=require("fs"),u=async o=>{console.log("\u{1F680} Lambda funcionando con contenedor!"),console.log("Evento recibido:",JSON.stringify(o,null,2));try{let t="/var/task/scripts/sync-repo.sh";if(!(0,i.existsSync)(t))throw new Error(`Script no encontrado en: ${t}`);console.log("\u{1F4DC} Ejecutando script de sincronizaci\xF3n...");let e=(0,a.execSync)(t,{encoding:"utf8",timeout:3e4,cwd:"/var/task"});return console.log("\u{1F4CB} Salida del script:"),console.log(e),{statusCode:200,body:JSON.stringify({message:"Script ejecutado exitosamente desde la Lambda",timestamp:new Date().toISOString(),scriptOutput:e})}}catch(t){return console.error("\u274C Error ejecutando script:",t),{statusCode:500,body:JSON.stringify({message:"Error ejecutando script",error:t instanceof Error?t.message:String(t),timestamp:new Date().toISOString()})}}};0&&(module.exports={handler,main});
//# sourceMappingURL=handler.js.map
